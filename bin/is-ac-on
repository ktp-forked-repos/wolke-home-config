#!/usr/bin/perl
use strict;
use warnings;
use Time::HiRes qw(time);

sub main(@){
  my $f = "/tmp/is-ac-on_" . int(time*1000) . ".jpg";
  system "sbcam $f >/dev/null 2>/dev/null";
  if(not -f $f){
    die "ERROR\n";
  }
  my $k = `kurtosis $f`;
  if($k !~ /^-?\d+(\.\d+)?$/){
    die "ERROR\n";
  }
  if($k > 10){
    print "yes\n";
  }else{
    print "no\n";
  }
}

&main(@ARGV);
