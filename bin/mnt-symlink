#!/usr/bin/perl
use strict;
use warnings;

my $syms = {
  "/media/BACKUP_STUFF/backup" => "/media/stuff",
  "/media/BACKUP_HOME/backup" => "/media/home",
};

sub main(@){
  die "must be superuser\n" if `whoami` ne "root\n";
  die "Usage: $0\n" if @_ != 0;

  for my $src(keys %$syms){
    my $dest = $$syms{$src};
    system "rm \"$dest\" 2>/dev/null";
    next if -e $dest;
    next if not -d $src;
    system "ln -s \"$src\" \"$dest\" 2>/dev/null";
  }
}

&main(@ARGV);
